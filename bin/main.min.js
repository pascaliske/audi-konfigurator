$(function(){console.log("site loaded"),$(window).scroll(function(){var a=$(window).scrollTop();a>20?$("#sidebar .price").addClass("scroll"):$("#sidebar .price").removeClass("scroll")});var a=($("#header .steps li").index($("#header .steps .current"))+1)*(100/$("#header .steps li").size());new Nanobar({bg:"white",target:document.getElementById("progressbar")}).go(a),new Nanobar({bg:"white",target:document.getElementById("header")}).go(a);$("#sidebar .progress p").html(Math.floor(a)+"<span>%</span>")});var Nanobar=function(){"use strict";var a,b,c,d,e,f,g={width:"100%",height:"4px",zIndex:9999,top:"0"},h={width:0,height:"100%",clear:"both",transition:"height .3s"};return a=function(a,b){var c;for(c in b)a.style[c]=b[c];a.style["float"]="left"},d=function(){var a=this,b=this.width-this.here;.1>b&&b>-.1?(e.call(this,this.here),this.moving=!1):(e.call(this,this.width-b/4),setTimeout(function(){a.go()},16))},e=function(a){this.width=a,this.el.style.width=this.width+"%"},f=function(){var a=new b(this);this.bars.unshift(a)},b=function(b){this.el=document.createElement("div"),this.el.style.backgroundColor=b.opts.bg,this.width=0,this.here=0,this.moving=!1,this.cont=b,a(this.el,h),b.el.appendChild(this.el)},b.prototype.go=function(a){a?(this.here=a,this.moving||(this.moving=!0,d.call(this))):this.moving&&d.call(this)},c=function(b){var c,d=this.opts=b||{};d.bg=d.bg||"#000",this.bars=[],c=this.el=document.createElement("div"),a(this.el,g),d.id&&(c.id=d.id),c.style.position=d.target?"relative":"fixed",d.target?d.target.insertBefore(c,d.target.firstChild):document.getElementsByTagName("body")[0].appendChild(c),f.call(this)},c.prototype.go=function(a){this.bars[0].go(a),100==a&&f.call(this)},c}();